TEMPLATE:
  BASIC:
    description: "{{Special:MyLanguage/Translations:Group descriptions/web2cit/en}}"
    namespace: NS_WIKIMEDIA
    icon: wiki://Web2Cit_logo_simple.svg
    class: FileBasedMessageGroup
    support:
      url: https://phabricator.wikimedia.org/maniphest/task/edit/form/1/?projects=web2cit,i18n
      params:
        title: Translation issue with message [[%MESSAGE%]]
        body: "\n\n----\n\nMessage URL: %MESSAGE_URL%"

  MANGLER:
    class: StringMatcher
    patterns:
      - "*"

  FILES:
    format: Json

  VALIDATORS:
    # Match variables: {{hello.name}}, {{- hello.name}}
    - id: InsertableRegex
      insertable: true
      enforce: true
      params: /\{\{(- )?[\w\.]+\}\}/

---
BASIC:
  id: web2cit
  label: Web2Cit
  meta: yes
  class: AggregateMessageGroup

GROUPS:
  - web2cit-*

---
BASIC:
  id: web2cit-translation-server
  label: Web2Cit translation server

MANGLER:
  prefix: web2cit-translation-

FILES:
  sourcePattern: "%GROUPROOT%/web2cit-server/locales/%CODE%/translation.json"

TAGS:
  optional:
    - web2cit-translation-web2cit
