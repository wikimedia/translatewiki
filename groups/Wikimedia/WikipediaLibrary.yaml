TEMPLATE:
  BASIC:
    icon: wiki://Wikipedia_Library_owl.svg
    namespace: NS_WIKIMEDIA
    class: FileBasedMessageGroup
    description: "{{Special:MyLanguage/Translations:Group descriptions/wikipedia-library/en}}"

  MANGLER:
    class: StringMatcher
    prefix: wikipedia-library-
    patterns:
      - "*"

---
BASIC:
  id: wikipedia-library
  label: Wikipedia Library Card Platform
  meta: yes
  class: AggregateMessageGroup

GROUPS:
  - wikipedia-library-*

---
BASIC:
  id: wikipedia-library-website
  label: Wikipedia Library Card Platform - Website
  codeBrowser: "https://github.com/WikipediaLibrary/TWLight/blob/production/%FILE%#L%LINE%"

FILES:
  class: GettextFFS
  sourcePattern: "%GROUPROOT%/WikipediaLibrary/TWLight/locale/%CODE%/LC_MESSAGES/django.po"

VALIDATORS:
  # Variables: {url}
  - id: InsertableRegex
    insertable: true
    params: /\{[^|} ]+\}/
  # Variables: %(parent_url)s
  - id: InsertableRegex
    insertable: true
    params: /%\([^)]+\)s/
  - id: GettextPlural

INSERTABLES:
  - class: HtmlTagInsertablesSuggester


TAGS:
  ignored:
    - wikipedia-library-97f63c-=7Bwp username=7D

---
BASIC:
  id: wikipedia-library-partner-descriptions
  label: Wikipedia Library Card Platform - Partner Descriptions

FILES:
  class: JsonFFS
  sourcePattern: "%GROUPROOT%/WikipediaLibrary/TWLight/locale/%CODE%/partner_descriptions.json"

VALIDATORS:
  - id: BraceBalance

INSERTABLES:
  - class: HtmlTagInsertablesSuggester
